---

# 基于大语言模型的复合编辑指令自动拆分软件V1.0

## 项目简介

本项目实现了一套**基于大语言模型的复合编辑指令自动拆分软件**，用于将用户输入的、包含多个编辑意图的自然语言指令，自动解析并拆分为**结构清晰、语义明确、可直接执行的原子级编辑指令**。

系统面向智能图像编辑、生成式内容创作以及多模态人机交互等应用场景，通过引入大语言模型与结构化 Prompt 机制，有效解决了复合指令中多目标、多属性混杂的问题，为后续编辑模型和自动化处理流程提供标准化、可执行的输入支撑。

---

## 应用场景

* 智能图像编辑与迭代式修改
* 生成式内容创作系统
* 多模态人机交互中的指令理解
* 自动化内容生成与编辑任务链

---

## 主要特点

* 支持多目标、多属性的复合指令自动拆分
* 原子级指令可直接用于后续自动化任务
* 模块化架构设计，便于扩展与维护
* 支持本地运行或云端部署
* 可接入不同类型的大语言模型接口

---

## 运行环境

* **操作系统**：Windows 10/11、Linux（Ubuntu 20.04+）
* **开发语言**：Python 3.9 及以上
* **外部依赖**：

  * 大语言模型接口（本地或云端）
  * Python 常用标准库与数据处理库（如 `json`、`re`、`pandas`）
* **硬件需求（参考）**：

  * CPU ≥ i5
  * 内存 ≥ 8GB
  * （可选）GPU 支持推理加速（如 NVIDIA RTX 系列）

---

## 系统总体功能

系统通过模块化设计，实现对复合编辑指令的自动拆分与管理，主要功能包括：

1. **复合指令接收**
   支持命令行、文本文件或网络接口等多种输入方式

2. **结构化 Prompt 构建**
   自动生成标准化提示模板，引导大语言模型进行原子级指令拆分

3. **大模型推理调用**
   支持真实大语言模型或本地模拟模块，保证系统可独立运行

4. **原子指令解析**
   将模型输出解析为结构化、可执行的原子编辑指令

5. **拆分结果输出**
   支持列表、JSON、CSV 等多种格式输出，便于二次开发

6. **异常处理与日志记录**
   在拆分失败或输入异常时提供完整日志，保证系统可追溯性

---

## 系统模块说明

### 1️⃣ PromptBuilder（提示构建模块）

* 对用户输入指令进行规范化处理
* 根据指令类型生成结构化 Prompt
* 提供示例增强与语义优化能力

**子模块：**

* 输入规范化
* 模板生成
* 示例增强
* 语义优化

---

### 2️⃣ LLMInvoker（大模型调用模块）

* 负责 Prompt 与大语言模型之间的交互
* 支持真实模型接口或本地模拟模型

**子模块：**

* 接口封装
* 本地模拟
* 调用监控
* 调用优化与缓存

---

### 3️⃣ InstructionParser（指令解析模块）

* 对模型输出文本进行解析
* 生成结构化原子级编辑指令

**子模块：**

* 文本行提取
* 正则匹配解析
* 数据校验
* 语义校正

---

### 4️⃣ AtomicInstructionSet（原子指令管理模块）

* 统一管理拆分后的原子指令
* 支持顺序访问与多格式导出

**子模块：**

* 指令集合维护
* 顺序访问
* 导出接口
* 版本管理

---

### 5️⃣ InstructionDecomposerSystem（系统调度模块）

* 协调各模块完成完整指令拆分流程
* 负责流程控制、异常处理和日志管理

---

## 软件处理流程

```
用户输入复合指令
        ↓
输入规范化与语义预处理
        ↓
结构化 Prompt 构建
        ↓
大语言模型推理
        ↓
指令解析
        ↓
原子指令管理
        ↓
标准化结果输出
```

---

## 输入输出示例

### 输入示例

```
将人物衣服改为红色，并在背景添加蓝色天空，同时增加左侧树木
```

### 输出示例（JSON）

```json
[
  {"对象": "人物", "属性": "衣服", "操作": "修改", "值": "红色"},
  {"对象": "背景", "属性": "天空", "操作": "添加", "值": "蓝色"},
  {"对象": "左侧", "属性": "树木", "操作": "增加", "值": null}
]
```

---

## 技术特点

* 模块化、可扩展的软件架构
* 结构化 Prompt 约束模型输出格式
* 跨平台运行，兼容 Python 3.x
* 支持无外部 API 的本地独立运行
* 标准化输出格式，易于系统集成
* 完整日志与异常处理机制
* 支持权限控制与版本管理

---

## 说明

本项目重点关注**复合自然语言编辑指令的结构化解析与工程实现**，不涉及模型训练与性能评测内容，适合作为智能编辑系统和多模态应用的基础功能模块。

---

